{"version":3,"sources":["Home.js","Horseshoe.js","Monitor.js","App.js","serviceWorker.js","index.js"],"names":["Map","ReactMapboxGl","accessToken","Home","style","containerStyle","height","width","type","id","layout","coordinates","Component","Horseshoe","console","log","this","props","num","className","value","unit","WebkitTransform","right_degree","transform","left_degree","marker_degree","param","Monitor","state","isLoading","response","values","conductivity","marker","left","right","oldValue","oxygen","tds","turbidity","ph","temperature","get_xpand","calculatedPercent","leftDeg","Math","abs","round","rightDeg","parameter","mode","fetch","headers","then","json","result","xpandGetJWT","access_token","data","method","body","JSON","stringify","xpandGetData","jwt","baseURL","temp","changeProgressDial","setState","App","backgroundColor","justifyContent","to","exact","path","component","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.5a0011e7.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\n\r\n\t// ES6\r\nimport ReactMapboxGl, { Layer, Feature } from 'react-mapbox-gl';\r\n \r\n// ES5\r\n// var ReactMapboxGl = require('react-mapbox-gl');\r\n// var Layer = ReactMapboxGl.Layer;\r\n// var Feature = ReactMapboxGl.Feature;\r\n \r\nconst Map = ReactMapboxGl({\r\n  accessToken:\r\n    'pk.eyJ1IjoibG9vaWtpYW5zZW5nIiwiYSI6ImNqdWF3MzFrMzA2bmYzeXBkMGdkMTdsM2sifQ.SMkjjzrxv1Gwmf127YmGpA'\r\n});\r\n \r\n\r\nclass Home extends Component {\r\n\tcomponentWillMount(){\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t<h2>HOME</h2>\r\n\t\t\t\t<Map\r\n\t\t\t\t  style=\"mapbox://styles/mapbox/streets-v9\"\r\n\t\t\t\t  containerStyle={{\r\n\t\t\t\t    height: '100vh',\r\n\t\t\t\t    width: '100vw'\r\n\t\t\t\t  }}\r\n\t\t\t\t>\r\n\t\t\t\t  <Layer type=\"symbol\" id=\"marker\" layout={{ 'icon-image': 'marker-15' }}>\r\n\t\t\t\t    <Feature coordinates={[-0.481747846041145, 51.3233379650232]} />\r\n\t\t\t\t  </Layer>\r\n\t\t\t\t</Map>;\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Home;","import React, { Component } from 'react';\r\n\t\r\nclass Horseshoe extends Component {\r\n\r\n\t\r\n\r\n\tcomponentWillMount(){\r\n\t\tconsole.log(this.props.num);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className={\"param_\" + (this.props.num < 4 ? \"upper\" : \"lower\") +\"_column\"}>\r\n\t\t\t\t<div className=\"horseshoe_upper_wrapper\">\r\n\t\t\t\t\t<div className=\"horseshoe\">\r\n\t\t\t\t\t\t<div className=\"radial-wrapper\">\r\n\t\t\t\t\t\t\t<h1 className=\"param_value unit_value1\" id=\"text1\">{this.props.value}</h1>\r\n\t\t\t\t\t\t\t<h1 className=\"param_unit unit_value1\">{this.props.unit}</h1>\r\n\t\t\t\t\t\t\t<div className=\"radial-section radial-right-section\">\r\n\t\t\t\t\t\t\t\t<div className=\"wedge1\">\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"radial-section radial-left-section\">\r\n\t\t\t\t\t\t\t\t<div className=\"wedge1\">\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"marker1 start\"></div>\r\n\t\t\t\t\t\t\t<div className=\"marker1 end\"></div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"radial-wrapper radial-progress-wrapper\">\r\n\t\t\t\t\t\t\t<div className=\"radial-section radial-right-section\">\r\n\t\t\t\t\t\t\t\t<div className=\"wedge1\" id=\"right1\"\r\n\t\t\t\t\t\t\t\t\tstyle={{WebkitTransform: \"rotateZ(\" + this.props.right_degree + \"deg)\", transform : \"rotateZ(\" + this.props.right_degree + \"deg)\"}}>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"radial-section radial-left-section\">\r\n\t\t\t\t\t\t\t\t<div className=\"wedge1\" id=\"left1\"\r\n\t\t\t\t\t\t\t\t\tstyle={{WebkitTransform: \"rotateZ(\" + this.props.left_degree + \"deg)\", transform : \"rotateZ(\" + this.props.left_degree + \"deg)\"}}>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"marker1 start\"></div>\r\n\t\t\t\t\t\t\t<div className=\"marker1 end\" id=\"marker1\" \r\n\t\t\t\t\t\t\t\tstyle={{WebkitTransform: \"rotateZ(\" + this.props.marker_degree + \"deg)\", transform : \"rotateZ(\" + this.props.marker_degree + \"deg)\"}}>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<h1 className=\"param_title\">{this.props.param}</h1>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Horseshoe;","import React, { Component } from 'react';\r\nimport Horseshoe from './Horseshoe';\r\n\r\n// const parameter = ['conductivity', 'oxygen', 'tds', 'turbidity', 'ph', 'temperature'];\r\n\r\nclass Monitor extends Component {\r\n\tstate={\r\n\t\tparam : ['Conductivity', 'Dissolved Oxygen', 'Total Dissolved Solids', 'Turbidity', 'pH', 'Temperature'],\r\n\t    unit : ['μS', 'mg/L', 'mg/L' , 'NTU', '' , '℃'],\r\n\t    isLoading: true,\r\n\t    response: []\r\n\t  //   {\r\n\t\t\t// conductivity: \"0.0\",\r\n\t\t\t// mac_s: \"3426465185477481\",\r\n\t\t\t// oxygen: \"8.8\",\r\n\t\t\t// ph: \"7.4\",\r\n\t\t\t// stateName_s: \"<none>\",\r\n\t\t\t// tds: \"26.7\",\r\n\t\t\t// temperature: \"29.6\",\r\n\t\t\t// time_s: \"2019-09-11T00:22:07.788\",\r\n\t\t\t// timestamp_s: \"1568132527788\",\r\n\t\t\t// turbidity: \"10.0\",\r\n\t\t\t// wqi: \"48.3\"\r\n\t  //   }\r\n\t  ,\r\n\t    values:{\r\n\t    \tconductivity: {\r\n\t    \t\tmarker: 0,\r\n\t    \t\tleft: 0,\r\n\t    \t\tright: 0,\r\n\t    \t\toldValue: 50\r\n\t    \t},\r\n\t    \toxygen: {\r\n\t    \t\tmarker: 0,\r\n\t    \t\tleft: 0,\r\n\t    \t\tright: 0,\r\n\t    \t\toldValue: 50\r\n\t    \t},\r\n\t    \ttds: {\r\n\t    \t\tmarker: 0,\r\n\t    \t\tleft: 0,\r\n\t    \t\tright: 0,\r\n\t    \t\toldValue: 50\r\n\t    \t},\r\n\t    \tturbidity: {\r\n\t    \t\tmarker: 0,\r\n\t    \t\tleft: 0,\r\n\t    \t\tright: 0,\r\n\t    \t\toldValue: 50\r\n\t    \t},\r\n\t    \tph: {\r\n\t    \t\tmarker: 0,\r\n\t    \t\tleft: 0,\r\n\t    \t\tright: 0,\r\n\t    \t\toldValue: 50\r\n\t    \t},\r\n\t    \ttemperature: {\r\n\t    \t\tmarker: 0,\r\n\t    \t\tleft: 0,\r\n\t    \t\tright: 0,\r\n\t    \t\toldValue: 50\r\n\t    \t},\r\n\t    }\r\n\t};\r\n\r\n\tUNSAFE_componentWillMount(){\r\n\r\n\t\t// var value = [];\r\n\t\t// var parameter = ['conductivity', 'oxygen', 'tds', 'turbidity', 'ph', 'temperature'];\r\n\t\t\r\n\t\tthis.get_xpand();\r\n\t\t// fetch(\"http://localhost:3001/xpand\")\r\n\t\t// .then(response=>response.json())\r\n\t\t// .then(result=>{\r\n\t\t// \tconsole.log(\"got it\", result);\r\n\t\t// });\r\n\r\n \r\n\t\t // $.ajax({\r\n\t\t //      type:'get',\r\n\t\t //      url:'/xpand',\r\n\t\t //      cache:false,\r\n\t\t //      async:'asynchronous',\r\n\t\t //      dataType:'json',\r\n\t\t //      success: function(data) {\r\n\t\t //        console.log(JSON.stringify(data))\r\n\t\t //      },\r\n\t\t //      error: function(request, status, error) {\r\n\t\t //        console.log(\"Error: \" + error)\r\n\t\t //      }\r\n\t\t //   });\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t// var value[];\r\n\t\t\r\n\t\tif(this.state.isLoading){\r\n\t\t\treturn (<div>Loading Data</div>);\r\n\t\t}else{\r\n\t\t\t\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div className=\"monitor_status_bar\">\r\n\t\t\t\t\t\t<h2 className=\"page-header\">Monitor Parameter Value</h2>\r\n\t\t\t\t\t\t<div className=\"upper_status_bar\">\r\n\t\t\t\t\t\t\t<Horseshoe num=\"1\" param={this.state.param[0]} unit={this.state.unit[0]} value={this.state.response[0].conductivity} marker_degree={this.state.values.conductivity.marker} left_degree={this.state.values.conductivity.left} right_degree={this.state.values.conductivity.right}/>\r\n\t\t\t\t\t\t\t<Horseshoe num=\"2\" param={this.state.param[1]} unit={this.state.unit[1]} value={this.state.response[0].oxygen} marker_degree={this.state.values.oxygen.marker} left_degree={this.state.values.oxygen.left} right_degree={this.state.values.oxygen.right}/>\r\n\t\t\t\t\t\t\t<Horseshoe num=\"3\" param={this.state.param[2]} unit={this.state.unit[2]} value={this.state.response[0].tds} marker_degree={this.state.values.tds.marker} left_degree={this.state.values.tds.left} right_degree={this.state.values.tds.right}/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"lower_status_bar\">\r\n\t\t\t\t\t\t\t<Horseshoe num=\"4\" param={this.state.param[3]} unit={this.state.unit[3]} value={this.state.response[0].turbidity} marker_degree={this.state.values.turbidity.marker} left_degree={this.state.values.turbidity.left} right_degree={this.state.values.turbidity.right}/>\r\n\t\t\t\t\t\t\t<Horseshoe num=\"5\" param={this.state.param[4]} unit={this.state.unit[4]} value={this.state.response[0].ph} marker_degree={this.state.values.ph.marker} left_degree={this.state.values.ph.left} right_degree={this.state.values.ph.right}/>\r\n\t\t\t\t\t\t\t<Horseshoe num=\"6\" param={this.state.param[5]} unit={this.state.unit[5]} value={this.state.response[0].temperature} marker_degree={this.state.values.temperature.marker} left_degree={this.state.values.temperature.left} right_degree={this.state.values.temperature.right}/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\tchangeProgressDial(value, calculatedPercent) {\r\n\t\tif(calculatedPercent <= 66) {\r\n\t\t\t// Ensure the right side is hidden\r\n\t\t\tvalue.right = -181;\r\n\t\t\tif(value.oldValue > 66) {\r\n\t\t\t\tvalue.right = -181;\r\n\t\t\t\tvalue.marker = 0;\r\n\t\t\t}\r\n\t\t\tvar leftDeg = -Math.abs(180 - Math.round(2.7 * calculatedPercent));\r\n\t\t\t// var threshold = oldValue > 66 ? 67 : oldValue;\r\n\t\t\tvalue.left = leftDeg + 1;\r\n\t\t\tvalue.marker = leftDeg;\r\n\t\t} else {\r\n\t\t\t// See if LHS needs to change\r\n\t\t\tif (value.oldValue <= 66) {\r\n\t\t\t\tvalue.left = 0;\r\n\t\t\t\tvalue.marker = 0;\r\n\t\t\t}\r\n\t\t\tvar rightDeg = -90 - ((100 - calculatedPercent) * 2.7);\r\n\t\t\tvalue.right = rightDeg;\r\n\t\t\tvalue.marker = (180 + rightDeg);\r\n\t\t}\r\n\t\tvalue.oldValue = calculatedPercent;\r\n\t\treturn value;\r\n\t}\r\n\r\n\tget_xpand(parameter, mode){\r\n\t\tfetch('https://cors-anywhere.herokuapp.com/https://iot.xpand.asia/developer/api/applicationmgt/authenticate',\r\n\t\t{\r\n\t\t   headers:{ \r\n\t\t     'X-Secret': 'UmNvalVjX09Td2JtY0NHTE9ST3AyNFdpbUdrYTpyTXRQaVNOVzNsTEhHaEREWDZSbFRmYjM0bVVh',\r\n\t\t     'Content-Type': 'application/json' \r\n\t\t \t}\r\n    \t})\r\n    \t.then(response=>response.json())\r\n    \t.then(result => {\r\n    \t\tthis.xpandGetJWT(result.access_token, parameter, mode);\r\n    \t});\r\n\t}\r\n\r\n\txpandGetJWT(accessToken, parameter, mode, data){\r\n\t\tfetch('https://cors-anywhere.herokuapp.com/https://iot.xpand.asia/developer/api/usermgt/v1/authenticate',\r\n\t\t{\r\n\t\t  method: 'POST',\r\n\t\t  headers: {\r\n\t\t    'Accept': 'application/json',\r\n\t\t    'Content-Type': 'application/json',\r\n        \t'Authorization': 'Bearer' + ' ' + accessToken\r\n\t\t  },\r\n\t\t  body: JSON.stringify({\r\n\t\t      'username': 'utmgroup02@noreply.com',\r\n\t\t      'password': 'teamh2o'\r\n    \t\t})\r\n\t\t}).then(response=>response.json())\r\n    \t.then(result => {\r\n    \t\tthis.xpandGetData(result[\"X-IoT-JWT\"], accessToken, parameter, data);\r\n    \t});\r\n\t}\r\n\r\n\txpandGetData(jwt, accessToken, parameter, data){\r\n\t\tvar baseURL = 'https://cors-anywhere.herokuapp.com/https://iot.xpand.asia/developer/api/datamgt/v1/user/devicehistory?';\r\n\t    var eventName = 'Try';\r\n\t    var deviceIds = '16492';\r\n\t    var noOfEvents = '7';\r\n\t    var zoneId = 'Asia%2FKuala_Lumpur';\r\n\t    // var startDate = '2018-08-09%2012%3A00%3A00'\r\n\t\tfetch(baseURL + 'eventName=' + eventName + '&deviceIds=' + deviceIds + '&noOfEvents=' + noOfEvents + '&zoneId=' + zoneId,\r\n\t\t{\r\n      \t\theaders: {\r\n      \t\t\t'Authorization': 'Bearer' + ' ' + accessToken, \r\n      \t\t\t'X-IoT-JWT': jwt\r\n    \t\t}\r\n    \t})\r\n    \t.then(response=>{\r\n    \t\tconsole.log(response);\r\n    \t\treturn response.json();\r\n    \t})\r\n    \t.then(result => {\r\n    \t\tconsole.log(result[deviceIds][0]);\r\n    \t\tvar temp = this.state.values;\r\n\r\n\t\t\tconsole.log(\"temp\", temp);\r\n\t\t\ttemp.conductivity = this.changeProgressDial(this.state.values.conductivity, result[deviceIds][0].conductivity / 6000 * 100);\r\n\t\t\ttemp.oxygen = this.changeProgressDial(this.state.values.oxygen, result[deviceIds][0].oxygen / 8.8 * 100);\r\n\t\t\ttemp.tds = this.changeProgressDial(this.state.values.tds, result[deviceIds][0].tds / 3500 * 100);\r\n\t\t\ttemp.turbidity = this.changeProgressDial(this.state.values.turbidity, result[deviceIds][0].turbidity / 50 * 100);\r\n\t\t\ttemp.ph = this.changeProgressDial(this.state.values.ph, (result[deviceIds][0].ph - 5) / 9 * 100);\r\n\t\t\ttemp.temperature = this.changeProgressDial(this.state.values.temperature, (result[deviceIds][0].temperature - 16) / 24 * 100);\r\n\r\n\t\t\t// for (var i = value.length - 1; i >= 0; i--) {\r\n\t\t\t// \tthis.changeProgressDial(this.state.valuevalue[i]\r\n\t\t\t// }\r\n\t\t\t\t\r\n\t\t\t// this.setState({values: temp});\r\n    \t\tthis.setState({\r\n    \t\t\t\tvalues: temp,\r\n    \t\t\t\tresponse: result[deviceIds],\r\n    \t\t\t\tisLoading: false\r\n    \t\t\t});\r\n    \t});\r\n\t}\r\n}\r\n\r\nexport default Monitor;","import React from 'react';\nimport './App.css';\nimport {BrowserRouter as Router, Route, Link} from 'react-router-dom';\nimport Home from './Home';\nimport Monitor from './Monitor';\n\nfunction App() {\n\tconst navbar_style = {\n\t\tbackgroundColor: \"blue\",\n\t\tjustifyContent: \"flexStart !important\"\n\t};\n\n  return (\n    <div className=\"App\">\n    <Router>\n    <div className=\"navbar\" style={navbar_style}>\n    \n    <Link className=\"btn btn-success\" to=\"/\">Home</Link>\n    <Link className=\"btn btn-success\" to=\"monitor\">Monitor</Link>\n    </div>\n    <Route exact path=\"/\" component={Home}/>\n    \n    <Route path=\"/monitor\" component={Monitor}/>\n    </Router>\n    {/*  <header className=\"App-header\">\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n        <p>\n          Edit <code>src/App.js</code> and save to reload.\n        </p>\n        <a\n          className=\"App-link\"\n          href=\"https://reactjs.org\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          Learn React\n        </a>\n      </header>\n      <div className=\"\">\n      <input className=\"btn\" type=\"button\"/>\n      </div>*/}\n\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport \"./css/style.css\"\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}