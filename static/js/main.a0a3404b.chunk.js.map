{"version":3,"sources":["images/favicon.png","Home.js","Horseshoe.js","LineGraph.js","Monitor.js","TextBorder.js","HomeComp.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","Map","ReactMapboxGl","accessToken","Horseshoe","Component","console","log","this","props","num","className","id","value","unit","style","WebkitTransform","right_degree","transform","left_degree","marker_degree","param","LineGraph","line","dataSelected","forEach","element","push","type","dataKey","stroke","width","height","data","interval","padding","left","right","allowDataOverflow","Monitor","state","isLoading","response","turbidity","tds","stateName_s","conductivity","temperature","ph","timestamp_s","time_s","oxygen","mac_s","wqi","values","marker","oldValue","get_xpand","backgroundColor","onClick","res","calculatedPercent","leftDeg","Math","abs","round","rightDeg","parameter","mode","fetch","headers","then","json","result","xpandGetJWT","access_token","method","Accept","Authorization","body","JSON","stringify","username","password","xpandGetData","jwt","baseURL","temp","changeProgressDial","setState","reverse","TextBorder","_borderColor","i","borderColor","split","borderWidth","borderStyle","color","textColor","margin","text","count","center","zoom","HomeComp","routeHistory","useHistory","useState","location","lat","lon","name","setLocation","popup","setPopup","setResponse","setIsLoading","safeCount","setSafeCount","pollutedCount","setPollutedCount","extremelyPollutedCount","setExtremelyPollutedCount","safeCountTemp","pollutedCountTemp","extremelyPollutedCountTemp","useEffect","column","title","fontFamily","fontSize","textAlign","paddingLeft","display","border","containerStyle","map","e","lngLat","coordinates","offset","bottom","dangerouslySetInnerHTML","__html","description","layer","properties","anchor","mapWithEvt","onMouseEnter","onMouseLeave","zIndex","borderRadius","createLayer","App","justifyContent","position","flexWrap","alignItems","src","logo","alt","to","exact","path","component","Boolean","window","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.a0a3404b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/favicon.942e51a6.png\";","import React, { Component } from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Link,\r\n  useHistory\r\n} from \"react-router-dom\";\r\n\r\n// ES6\r\nimport ReactMapboxGl, { Layer, Feature, Popup, Marker } from \"react-mapbox-gl\";\r\n\r\n// ES5\r\n// var ReactMapboxGl = require('react-mapbox-gl');\r\n// var Layer = ReactMapboxGl.Layer;\r\n// var Feature = ReactMapboxGl.Feature;\r\n\r\nconst Map = ReactMapboxGl({\r\n  accessToken:\r\n    \"pk.eyJ1IjoibG9vaWtpYW5zZW5nIiwiYSI6ImNqdWF3MzFrMzA2bmYzeXBkMGdkMTdsM2sifQ.SMkjjzrxv1Gwmf127YmGpA\"\r\n});\r\n\r\nconst markerUrl = \"logo.svg\";\r\n\r\nclass Home extends Component {\r\n  state = {\r\n    location: [\r\n      {\r\n        lat: 3.172788,\r\n        lon: 101.719556,\r\n        name: \"5G Ericsson KL\",\r\n        type: \"scattermapbox\",\r\n        mode: \"markers\",\r\n        state: \"\",\r\n        response: []\r\n        // marker: indicate(float(xp.get_xpand(\"wqi\", \"data\")), \"color\")\"marker\",\r\n        // text: indicate(float(xp.get_xpand(\"wqi\", \"data\")), \"text\")\"text\"\r\n      },\r\n      {\r\n        lat: 1.555145,\r\n        lon: 103.63764,\r\n        name: \"UTM JB Lake\",\r\n        type: \"scattermapbox\",\r\n        mode: \"markers\",\r\n        state: \"Safe\"\r\n        // marker: indicate(40, \"color\")\"marker\",\r\n        // text: indicate(40, \"text\")\"text\"\r\n      },\r\n      {\r\n        lat: 1.460468,\r\n        lon: 103.940487,\r\n        name: \"Sungai Kim Kim\",\r\n        type: \"scattermapbox\",\r\n        mode: \"markers\",\r\n        state: \"Safe\"\r\n        // marker: indicate(0, \"color\")\"marker\",\r\n        // text: indicate(0, \"text\")\"text\"\r\n      },\r\n      {\r\n        lat: 3.828111,\r\n        lon: 103.265507,\r\n        name: \"Sungai Tiram\",\r\n        type: \"scattermapbox\",\r\n        mode: \"markers\",\r\n        state: \"Safe\"\r\n        // marker: indicate(30, \"color\")\"marker\",\r\n        // text: indicate(30, \"text\")\"text\"\r\n      },\r\n      {\r\n        lat: 2.892086,\r\n        lon: 101.68903,\r\n        name: \"Sungai Langat\",\r\n        type: \"scattermapbox\",\r\n        mode: \"markers\",\r\n        state: \"Safe\"\r\n        // marker: indicate(30, \"color\")\"marker\",\r\n        // text: indicate(30, \"text\")\"text\"\r\n      },\r\n      {\r\n        lat: 3.496129,\r\n        lon: 102.912493,\r\n        name: \"Sungai Pahang\",\r\n        type: \"scattermapbox\",\r\n        mode: \"markers\",\r\n        state: \"Extremely Polluted\"\r\n        // marker: indicate(40, \"color\")\"marker\",\r\n        // text: indicate(40, \"text\")\"text\"\r\n      },\r\n      {\r\n        lat: 2.235268,\r\n        lon: 102.256568,\r\n        name: \"Sungai Malacca\",\r\n        type: \"scattermapbox\",\r\n        mode: \"markers\",\r\n        state: \"Polluted\"\r\n        // marker: indicate(0, \"color\")\"marker\",\r\n        // text: indicate(0, \"text\")\"text\"\r\n      },\r\n      {\r\n        lat: 4.370342,\r\n        lon: 101.072384,\r\n        name: \"Sungai Kinta\",\r\n        type: \"scattermapbox\",\r\n        mode: \"markers\",\r\n        state: \"Polluted\"\r\n        // marker: indicate(40, \"color\")\"marker\",\r\n        // text: indicate(40, \"text\")\"text\"\r\n      }\r\n    ],\r\n    gotPopUp: false,\r\n    popupText: \"\",\r\n    response: [],\r\n    isLoading: true\r\n  };\r\n\r\n  componentWillMount() {\r\n    this.get_xpand();\r\n  }\r\n\r\n  createLayer = () => {\r\n    let routeHistory = useHistory();\r\n\r\n    let layer = [];\r\n    let color = \"\";\r\n    this.state.location.forEach(element => {\r\n      console.log(element.state);\r\n\r\n      if (element.state === \"Safe\") {\r\n        color = \"blue\";\r\n      } else if (element.state === \"Polluted\") {\r\n        color = \"green\";\r\n      } else {\r\n        color = \"red\";\r\n      }\r\n\r\n      console.log(color);\r\n      layer.push(\r\n        // <Feature\r\n        //   coordinates={[element.lon, element.lat]}\r\n        //   properties={{\r\n        //     description: \"<strong>\" + element.name + \"</strong>\"\r\n        //   }}\r\n        //   onClick={() => console.log(this)}\r\n        //   onMouseEnter={mapWithEvt => {\r\n        //     console.log(\r\n        //       \"mouse enter\",\r\n        //       mapWithEvt.feature.properties.description\r\n        //     );\r\n        //     this.setState({\r\n        //       gotPopUp: {\r\n        //         lat: element.lat,\r\n        //         lon: element.lon,\r\n        //         description: mapWithEvt.feature.properties.description\r\n        //       },\r\n        //       popupText: mapWithEvt.feature.properties.properties\r\n        //     });\r\n        //   }}\r\n        //   onMouseLeave={mapWithEvt => {\r\n        //     console.log(\"mouse leave\", mapWithEvt);\r\n        //     this.setState({\r\n        //       gotPopUp: false\r\n        //     });\r\n        //   }}\r\n        // />\r\n        // <Route\r\n        //   key={element.name}\r\n        //   render={({ history }) => (\r\n        <Marker\r\n          properties={{\r\n            description: \"<strong>\" + element.name + \"</strong>\"\r\n          }}\r\n          coordinates={[element.lon, element.lat]}\r\n          anchor=\"bottom\"\r\n          onClick={mapWithEvt => {\r\n            console.log(\"mouse click\", mapWithEvt);\r\n            // routeHistory.push(\"/monitor\");\r\n          }}\r\n          onMouseEnter={mapWithEvt => {\r\n            console.log(\"mouse enter\", mapWithEvt);\r\n            this.setState({\r\n              gotPopUp: {\r\n                lat: element.lat,\r\n                lon: element.lon,\r\n                description: \"<strong>\" + element.name + \"</strong>\"\r\n              }\r\n            });\r\n          }}\r\n          onMouseLeave={mapWithEvt => {\r\n            console.log(\"mouse leave\", mapWithEvt);\r\n            this.setState({\r\n              gotPopUp: false\r\n            });\r\n          }}\r\n        >\r\n          {/* <img src={markerUrl} /> */}\r\n          {/* condition = {element.state === \"Safe\"}; */}\r\n\r\n          <div\r\n            style={{\r\n              width: 1 + \"em\",\r\n              height: 1 + \"em\",\r\n              backgroundColor: color,\r\n\r\n              borderRadius: 50 + \"%\"\r\n            }}\r\n          >\r\n            {color}\r\n          </div>\r\n        </Marker>\r\n        // )}\r\n        // />\r\n      );\r\n    });\r\n    console.log(layer);\r\n    return layer;\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h2>HOME</h2>\r\n        <Map\r\n          style=\"mapbox://styles/mapbox/streets-v9\"\r\n          containerStyle={{\r\n            height: \"100vh\",\r\n            width: \"100vw\"\r\n          }}\r\n          center={{ lat: 3.172788, lng: 101.719556 }}\r\n          onClick={(map, e) => console.log(\"onClickMap!\", e.lngLat)}\r\n        >\r\n          {/* <Layer type=\"symbol\" layout={{ \"icon-image\": \"circle-15\" }}></Layer> */}\r\n          {this.state.gotPopUp ? (\r\n            <Popup\r\n              coordinates={[this.state.gotPopUp.lon, this.state.gotPopUp.lat]}\r\n              offset={{\r\n                \"bottom-left\": [12, 0],\r\n                bottom: [0, -10],\r\n                \"bottom-right\": [-12, -38]\r\n              }}\r\n            >\r\n              <div\r\n                dangerouslySetInnerHTML={{\r\n                  __html: this.state.gotPopUp.description\r\n                }}\r\n              />\r\n            </Popup>\r\n          ) : (\r\n            <div></div>\r\n          )}\r\n          {this.createLayer()}\r\n\r\n          {/* <Layer\r\n            // key={element.name}\r\n            type=\"symbol\"\r\n            id=\"marker\"\r\n            layout={{ \"icon-image\": \"circle-15\" }}\r\n          >\r\n            {this.createLayer()}\r\n          </Layer>\r\n          <Layer\r\n            // key={element.name}\r\n            type=\"symbol\"\r\n            id=\"marker\"\r\n            layout={{ \"icon-image\": \"aquarium-15\" }}\r\n          >\r\n            <Feature coordinates={[102, 5]} />\r\n          </Layer> */}\r\n        </Map>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  get_xpand(parameter, mode) {\r\n    fetch(\r\n      \"https://cors-anywhere.herokuapp.com/https://iot.xpand.asia/developer/api/applicationmgt/authenticate\",\r\n      {\r\n        headers: {\r\n          \"X-Secret\":\r\n            \"UmNvalVjX09Td2JtY0NHTE9ST3AyNFdpbUdrYTpyTXRQaVNOVzNsTEhHaEREWDZSbFRmYjM0bVVh\",\r\n          \"Content-Type\": \"application/json\"\r\n        }\r\n      }\r\n    )\r\n      .then(response => response.json())\r\n      .then(result => {\r\n        this.xpandGetJWT(result.access_token, parameter, mode);\r\n      });\r\n  }\r\n\r\n  xpandGetJWT(accessToken, parameter, mode, data) {\r\n    fetch(\r\n      \"https://cors-anywhere.herokuapp.com/https://iot.xpand.asia/developer/api/usermgt/v1/authenticate\",\r\n      {\r\n        method: \"POST\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer\" + \" \" + accessToken\r\n        },\r\n        body: JSON.stringify({\r\n          username: \"utmgroup02@noreply.com\",\r\n          password: \"teamh2o\"\r\n        })\r\n      }\r\n    )\r\n      .then(response => response.json())\r\n      .then(result => {\r\n        this.xpandGetData(result[\"X-IoT-JWT\"], accessToken, parameter, data);\r\n      });\r\n  }\r\n\r\n  xpandGetData(jwt, accessToken, parameter, data) {\r\n    var baseURL =\r\n      \"https://cors-anywhere.herokuapp.com/https://iot.xpand.asia/developer/api/datamgt/v1/user/devicehistory?\";\r\n    var eventName = \"Try\";\r\n    var deviceIds = \"16492\";\r\n    var noOfEvents = \"7\";\r\n    var zoneId = \"Asia%2FKuala_Lumpur\";\r\n    // var startDate = '2018-08-09%2012%3A00%3A00'\r\n    fetch(\r\n      baseURL +\r\n        \"eventName=\" +\r\n        eventName +\r\n        \"&deviceIds=\" +\r\n        deviceIds +\r\n        \"&noOfEvents=\" +\r\n        noOfEvents +\r\n        \"&zoneId=\" +\r\n        zoneId,\r\n      {\r\n        headers: {\r\n          Authorization: \"Bearer\" + \" \" + accessToken,\r\n          \"X-IoT-JWT\": jwt\r\n        }\r\n      }\r\n    )\r\n      .then(response => {\r\n        console.log(response);\r\n        return response.json();\r\n      })\r\n      .then(result => {\r\n        console.log(\"result: \", result[deviceIds]);\r\n        this.setState({\r\n          response: result[deviceIds],\r\n          isLoading: false\r\n        });\r\n      });\r\n  }\r\n}\r\n\r\nexport default Home;\r\n","import React, { Component } from \"react\";\r\n\r\nclass Horseshoe extends Component {\r\n  componentWillMount() {\r\n    console.log(this.props.num);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        className={\r\n          \"param_\" + (this.props.num < 4 ? \"upper\" : \"lower\") + \"_column\"\r\n        }\r\n      >\r\n        <div className=\"horseshoe_upper_wrapper\">\r\n          <div className=\"horseshoe\">\r\n            <div className=\"radial-wrapper\">\r\n              <h1\r\n                className={\"param_value unit_value\" + this.props.num}\r\n                id=\"text1\"\r\n              >\r\n                {this.props.value}\r\n              </h1>\r\n              <h1 className={\"param_unit unit_value\" + this.props.num}>\r\n                {this.props.unit}\r\n              </h1>\r\n              <div className=\"radial-section radial-right-section\">\r\n                <div className={\"wedge\" + this.props.num}></div>\r\n              </div>\r\n              <div className=\"radial-section radial-left-section\">\r\n                <div className={\"wedge\" + this.props.num}></div>\r\n              </div>\r\n              <div className={\"marker\" + this.props.num + \" start\"}></div>\r\n              <div className={\"marker\" + this.props.num + \" end\"}></div>\r\n            </div>\r\n\r\n            <div className=\"radial-wrapper radial-progress-wrapper\">\r\n              <div className=\"radial-section radial-right-section\">\r\n                <div\r\n                  className={\"wedge\" + this.props.num}\r\n                  id=\"right1\"\r\n                  style={{\r\n                    WebkitTransform:\r\n                      \"rotateZ(\" + this.props.right_degree + \"deg)\",\r\n                    transform: \"rotateZ(\" + this.props.right_degree + \"deg)\"\r\n                  }}\r\n                ></div>\r\n              </div>\r\n              <div className=\"radial-section radial-left-section\">\r\n                <div\r\n                  className={\"wedge\" + this.props.num}\r\n                  id=\"left1\"\r\n                  style={{\r\n                    WebkitTransform:\r\n                      \"rotateZ(\" + this.props.left_degree + \"deg)\",\r\n                    transform: \"rotateZ(\" + this.props.left_degree + \"deg)\"\r\n                  }}\r\n                ></div>\r\n              </div>\r\n              <div className={\"marker\" + this.props.num + \" start\"}></div>\r\n              <div\r\n                className={\"marker\" + this.props.num + \" end\"}\r\n                id=\"marker1\"\r\n                style={{\r\n                  WebkitTransform:\r\n                    \"rotateZ(\" + this.props.marker_degree + \"deg)\",\r\n                  transform: \"rotateZ(\" + this.props.marker_degree + \"deg)\"\r\n                }}\r\n              ></div>\r\n            </div>\r\n          </div>\r\n          <h1 className=\"param_title\">{this.props.param}</h1>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Horseshoe;\r\n","import React, { Component } from \"react\";\r\nimport {\r\n  LineChart,\r\n  Line,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  Legend,\r\n  Label\r\n} from \"recharts\";\r\n\r\nclass LineGraph extends Component {\r\n  render() {\r\n    let line = [];\r\n    this.props.dataSelected.forEach(element => {\r\n      line.push(<Line type=\"monotone\" dataKey={element} stroke=\"#8884d8\" />);\r\n    });\r\n    return (\r\n      <LineChart width={1500} height={500} data={this.props.data}>\r\n        {/* <CartesianGrid strokeDasharray=\"3 3\" /> */}\r\n        <XAxis\r\n          dataKey=\"time_s\"\r\n          interval={0}\r\n          padding={{ left: 20, right: 100 }}\r\n        />\r\n\r\n        <YAxis allowDataOverflow={true}>\r\n          <Label value=\"any\" />\r\n        </YAxis>\r\n        <Tooltip />\r\n        <Legend />\r\n        {/* <CartesianGrid stroke=\"#eee\" strokeDasharray=\"5 5\" /> */}\r\n        {line}\r\n      </LineChart>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LineGraph;\r\n","import React, { Component } from \"react\";\r\nimport Horseshoe from \"./Horseshoe\";\r\nimport LineGraph from \"./LineGraph\";\r\n\r\n// const parameter = ['conductivity', 'oxygen', 'tds', 'turbidity', 'ph', 'temperature'];\r\n\r\nclass Monitor extends Component {\r\n  state = {\r\n    param: [\r\n      \"Conductivity\",\r\n      \"Dissolved Oxygen\",\r\n      \"Total Dissolved Solids\",\r\n      \"Turbidity\",\r\n      \"pH\",\r\n      \"Temperature\"\r\n    ],\r\n    dataSelected: \"tds\",\r\n    unit: [\"μS\", \"mg/L\", \"mg/L\", \"NTU\", \"\", \"℃\"],\r\n    isLoading: true,\r\n    response: [\r\n      {\r\n        turbidity: \"10.0\",\r\n        tds: \"26.7\",\r\n        stateName_s: \"<none>\",\r\n        conductivity: \"0.0\",\r\n        temperature: \"29.6\",\r\n        ph: \"7.4\",\r\n        timestamp_s: \"1568132527788\",\r\n        time_s: \"2019-09-11T00:22:07.788\",\r\n        oxygen: \"8.8\",\r\n        mac_s: \"3426465185477481\",\r\n        wqi: \"48.3\"\r\n      },\r\n      {\r\n        turbidity: \"2895.9\",\r\n        tds: \"32.7\",\r\n        stateName_s: \"<none>\",\r\n        conductivity: \"0.0\",\r\n        temperature: \"29.8\",\r\n        ph: \"7.9\",\r\n        timestamp_s: \"1568132001675\",\r\n        time_s: \"2019-09-11T00:13:21.675\",\r\n        oxygen: \"9.1\",\r\n        mac_s: \"3426465185477481\",\r\n        wqi: \"33.1\"\r\n      },\r\n      {\r\n        turbidity: \"3.8\",\r\n        tds: \"2.1\",\r\n        stateName_s: \"<none>\",\r\n        conductivity: \"0.0\",\r\n        temperature: \"27.3\",\r\n        ph: \"9.1\",\r\n        timestamp_s: \"1558700348374\",\r\n        time_s: \"2019-05-24T20:19:08.374\",\r\n        oxygen: \"7.3\",\r\n        mac_s: \"3426465185477481\",\r\n        wqi: \"45.0\"\r\n      },\r\n      {\r\n        turbidity: \"3.8\",\r\n        tds: \"98.0\",\r\n        stateName_s: \"<none>\",\r\n        conductivity: \"0.0\",\r\n        temperature: \"27.6\",\r\n        ph: \"9.3\",\r\n        timestamp_s: \"1558700278550\",\r\n        time_s: \"2019-05-24T20:17:58.550\",\r\n        oxygen: \"3.5\",\r\n        mac_s: \"3426465185477481\",\r\n        wqi: \"31.4\"\r\n      },\r\n      {\r\n        turbidity: \"3.8\",\r\n        tds: \"0.0\",\r\n        stateName_s: \"<none>\",\r\n        conductivity: \"0.0\",\r\n        temperature: \"28.9\",\r\n        ph: \"9.3\",\r\n        timestamp_s: \"1558693401451\",\r\n        time_s: \"2019-05-24T18:23:21.451\",\r\n        oxygen: \"7.1\",\r\n        mac_s: \"3426465185477481\",\r\n        wqi: \"43.8\"\r\n      },\r\n      {\r\n        turbidity: \"3.8\",\r\n        tds: \"0.0\",\r\n        stateName_s: \"<none>\",\r\n        conductivity: \"0.0\",\r\n        temperature: \"28.8\",\r\n        ph: \"9.3\",\r\n        timestamp_s: \"1558693334911\",\r\n        time_s: \"2019-05-24T18:22:14.911\",\r\n        oxygen: \"7.0\",\r\n        mac_s: \"3426465185477481\",\r\n        wqi: \"43.7\"\r\n      },\r\n      {\r\n        turbidity: \"3.8\",\r\n        tds: \"0.0\",\r\n        stateName_s: \"<none>\",\r\n        conductivity: \"0.0\",\r\n        temperature: \"28.9\",\r\n        ph: \"9.3\",\r\n        timestamp_s: \"1558693268038\",\r\n        time_s: \"2019-05-24T18:21:08.038\",\r\n        oxygen: \"7.1\",\r\n        mac_s: \"3426465185477481\",\r\n        wqi: \"43.8\"\r\n      }\r\n    ],\r\n    //   {\r\n    // conductivity: \"0.0\",\r\n    // mac_s: \"3426465185477481\",\r\n    // oxygen: \"8.8\",\r\n    // ph: \"7.4\",\r\n    // stateName_s: \"<none>\",\r\n    // tds: \"26.7\",\r\n    // temperature: \"29.6\",\r\n    // time_s: \"2019-09-11T00:22:07.788\",\r\n    // timestamp_s: \"1568132527788\",\r\n    // turbidity: \"10.0\",\r\n    // wqi: \"48.3\"\r\n    //   }\r\n    values: {\r\n      conductivity: {\r\n        marker: 0,\r\n        left: 0,\r\n        right: 0,\r\n        oldValue: 50\r\n      },\r\n      oxygen: {\r\n        marker: 0,\r\n        left: 0,\r\n        right: 0,\r\n        oldValue: 50\r\n      },\r\n      tds: {\r\n        marker: 0,\r\n        left: 0,\r\n        right: 0,\r\n        oldValue: 50\r\n      },\r\n      turbidity: {\r\n        marker: 0,\r\n        left: 0,\r\n        right: 0,\r\n        oldValue: 50\r\n      },\r\n      ph: {\r\n        marker: 0,\r\n        left: 0,\r\n        right: 0,\r\n        oldValue: 50\r\n      },\r\n      temperature: {\r\n        marker: 0,\r\n        left: 0,\r\n        right: 0,\r\n        oldValue: 50\r\n      }\r\n    }\r\n  };\r\n\r\n  UNSAFE_componentWillMount() {\r\n    // var value = [];\r\n    // var parameter = ['conductivity', 'oxygen', 'tds', 'turbidity', 'ph', 'temperature'];\r\n\r\n    this.get_xpand();\r\n    // fetch(\"http://localhost:3001/xpand\")\r\n    // .then(response=>response.json())\r\n    // .then(result=>{\r\n    // \tconsole.log(\"got it\", result);\r\n    // });\r\n\r\n    // $.ajax({\r\n    //      type:'get',\r\n    //      url:'/xpand',\r\n    //      cache:false,\r\n    //      async:'asynchronous',\r\n    //      dataType:'json',\r\n    //      success: function(data) {\r\n    //        console.log(JSON.stringify(data))\r\n    //      },\r\n    //      error: function(request, status, error) {\r\n    //        console.log(\"Error: \" + error)\r\n    //      }\r\n    //   });\r\n  }\r\n\r\n  render() {\r\n    // var value[];\r\n\r\n    if (this.state.isLoading) {\r\n      return <div>Loading Data</div>;\r\n    } else {\r\n      return (\r\n        <div style={{ backgroundColor: \"black\" }}>\r\n          <div className=\"monitor_status_bar\">\r\n            <h2 className=\"page-header\">Monitor Parameter Value</h2>\r\n            <div className=\"upper_status_bar\">\r\n              {/* <div\r\n              // onClick={() => {\r\n              //   console.log(\"aaa\");\r\n              // }}\r\n              > */}\r\n              <Horseshoe\r\n                num=\"1\"\r\n                param={this.state.param[0]}\r\n                unit={this.state.unit[0]}\r\n                value={this.state.response[0].conductivity}\r\n                marker_degree={this.state.values.conductivity.marker}\r\n                left_degree={this.state.values.conductivity.left}\r\n                right_degree={this.state.values.conductivity.right}\r\n                onClick={res => {\r\n                  console.log(res);\r\n                }}\r\n              />\r\n              {/* </div> */}\r\n              <Horseshoe\r\n                num=\"2\"\r\n                param={this.state.param[1]}\r\n                unit={this.state.unit[1]}\r\n                value={this.state.response[0].oxygen}\r\n                marker_degree={this.state.values.oxygen.marker}\r\n                left_degree={this.state.values.oxygen.left}\r\n                right_degree={this.state.values.oxygen.right}\r\n              />\r\n              <Horseshoe\r\n                num=\"3\"\r\n                param={this.state.param[2]}\r\n                unit={this.state.unit[2]}\r\n                value={this.state.response[0].tds}\r\n                marker_degree={this.state.values.tds.marker}\r\n                left_degree={this.state.values.tds.left}\r\n                right_degree={this.state.values.tds.right}\r\n              />\r\n            </div>\r\n            <div className=\"lower_status_bar\">\r\n              <Horseshoe\r\n                num=\"4\"\r\n                param={this.state.param[3]}\r\n                unit={this.state.unit[3]}\r\n                value={this.state.response[0].turbidity}\r\n                marker_degree={this.state.values.turbidity.marker}\r\n                left_degree={this.state.values.turbidity.left}\r\n                right_degree={this.state.values.turbidity.right}\r\n              />\r\n              <Horseshoe\r\n                num=\"5\"\r\n                param={this.state.param[4]}\r\n                unit={this.state.unit[4]}\r\n                value={this.state.response[0].ph}\r\n                marker_degree={this.state.values.ph.marker}\r\n                left_degree={this.state.values.ph.left}\r\n                right_degree={this.state.values.ph.right}\r\n              />\r\n              <Horseshoe\r\n                num=\"6\"\r\n                param={this.state.param[5]}\r\n                unit={this.state.unit[5]}\r\n                value={this.state.response[0].temperature}\r\n                marker_degree={this.state.values.temperature.marker}\r\n                left_degree={this.state.values.temperature.left}\r\n                right_degree={this.state.values.temperature.right}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <LineGraph\r\n              data={this.state.response}\r\n              dataSelected={[\r\n                \"oxygen\",\r\n                \"tds\",\r\n                \"turbidity\",\r\n                \"ph\",\r\n                \"temperature\",\r\n                \"conductivity\"\r\n              ]}\r\n            />\r\n            <LineGraph\r\n              data={this.state.response}\r\n              dataSelected={[\"conductivity\"]}\r\n            />\r\n\r\n            <LineGraph data={this.state.response} dataSelected={[\"oxygen\"]} />\r\n            <LineGraph data={this.state.response} dataSelected={[\"tds\"]} />\r\n            <LineGraph\r\n              data={this.state.response}\r\n              dataSelected={[\"turbidity\"]}\r\n            />\r\n            <LineGraph data={this.state.response} dataSelected={[\"ph\"]} />\r\n            <LineGraph\r\n              data={this.state.response}\r\n              dataSelected={[\"temperature\"]}\r\n            />\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  changeProgressDial(value, calculatedPercent) {\r\n    if (calculatedPercent <= 66) {\r\n      // Ensure the right side is hidden\r\n      value.right = -181;\r\n      if (value.oldValue > 66) {\r\n        value.right = -181;\r\n        value.marker = 0;\r\n      }\r\n      var leftDeg = -Math.abs(180 - Math.round(2.7 * calculatedPercent));\r\n      // var threshold = oldValue > 66 ? 67 : oldValue;\r\n      value.left = leftDeg + 1;\r\n      value.marker = leftDeg;\r\n    } else {\r\n      // See if LHS needs to change\r\n      if (value.oldValue <= 66) {\r\n        value.left = 0;\r\n        value.marker = 0;\r\n      }\r\n      var rightDeg = -90 - (100 - calculatedPercent) * 2.7;\r\n      value.right = rightDeg;\r\n      value.marker = 180 + rightDeg;\r\n    }\r\n    value.oldValue = calculatedPercent;\r\n    return value;\r\n  }\r\n\r\n  get_xpand(parameter, mode) {\r\n    fetch(\r\n      \"https://cors-anywhere.herokuapp.com/https://iot.xpand.asia/developer/api/applicationmgt/authenticate\",\r\n      {\r\n        headers: {\r\n          \"X-Secret\":\r\n            \"UmNvalVjX09Td2JtY0NHTE9ST3AyNFdpbUdrYTpyTXRQaVNOVzNsTEhHaEREWDZSbFRmYjM0bVVh\",\r\n          \"Content-Type\": \"application/json\"\r\n        }\r\n      }\r\n    )\r\n      .then(response => response.json())\r\n      .then(result => {\r\n        this.xpandGetJWT(result.access_token, parameter, mode);\r\n      });\r\n  }\r\n\r\n  xpandGetJWT(accessToken, parameter, mode, data) {\r\n    fetch(\r\n      \"https://cors-anywhere.herokuapp.com/https://iot.xpand.asia/developer/api/usermgt/v1/authenticate\",\r\n      {\r\n        method: \"POST\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer\" + \" \" + accessToken\r\n        },\r\n        body: JSON.stringify({\r\n          username: \"utmgroup02@noreply.com\",\r\n          password: \"teamh2o\"\r\n        })\r\n      }\r\n    )\r\n      .then(response => response.json())\r\n      .then(result => {\r\n        this.xpandGetData(result[\"X-IoT-JWT\"], accessToken, parameter, data);\r\n      });\r\n  }\r\n\r\n  xpandGetData(jwt, accessToken, parameter, data) {\r\n    var baseURL =\r\n      \"https://cors-anywhere.herokuapp.com/https://iot.xpand.asia/developer/api/datamgt/v1/user/devicehistory?\";\r\n    var eventName = \"Try\";\r\n    var deviceIds = \"16492\";\r\n    var noOfEvents = \"7\";\r\n    var zoneId = \"Asia%2FKuala_Lumpur\";\r\n    // var startDate = '2018-08-09%2012%3A00%3A00'\r\n    fetch(\r\n      baseURL +\r\n        \"eventName=\" +\r\n        eventName +\r\n        \"&deviceIds=\" +\r\n        deviceIds +\r\n        \"&noOfEvents=\" +\r\n        noOfEvents +\r\n        \"&zoneId=\" +\r\n        zoneId,\r\n      {\r\n        headers: {\r\n          Authorization: \"Bearer\" + \" \" + accessToken,\r\n          \"X-IoT-JWT\": jwt\r\n        }\r\n      }\r\n    )\r\n      .then(response => {\r\n        console.log(response);\r\n        return response.json();\r\n      })\r\n      .then(result => {\r\n        console.log(\"this value\", JSON.stringify(result[deviceIds]));\r\n        var temp = this.state.values;\r\n\r\n        console.log(\"temp\", temp);\r\n        temp.conductivity = this.changeProgressDial(\r\n          this.state.values.conductivity,\r\n          (result[deviceIds][0].conductivity / 6000) * 100\r\n        );\r\n        temp.oxygen = this.changeProgressDial(\r\n          this.state.values.oxygen,\r\n          (result[deviceIds][0].oxygen / 8.8) * 100\r\n        );\r\n        temp.tds = this.changeProgressDial(\r\n          this.state.values.tds,\r\n          (result[deviceIds][0].tds / 3500) * 100\r\n        );\r\n        temp.turbidity = this.changeProgressDial(\r\n          this.state.values.turbidity,\r\n          (result[deviceIds][0].turbidity / 50) * 100\r\n        );\r\n        temp.ph = this.changeProgressDial(\r\n          this.state.values.ph,\r\n          ((result[deviceIds][0].ph - 5) / 9) * 100\r\n        );\r\n        temp.temperature = this.changeProgressDial(\r\n          this.state.values.temperature,\r\n          ((result[deviceIds][0].temperature - 16) / 24) * 100\r\n        );\r\n\r\n        // for (var i = value.length - 1; i >= 0; i--) {\r\n        // \tthis.changeProgressDial(this.state.valuevalue[i]\r\n        // }\r\n\r\n        // this.setState({values: temp});\r\n        this.setState({\r\n          values: temp,\r\n          response: result[deviceIds].reverse(),\r\n          isLoading: false\r\n        });\r\n      });\r\n  }\r\n}\r\n\r\nexport default Monitor;\r\n","import React, { Component } from \"react\";\r\n\r\nclass TextBorder extends Component {\r\n  render() {\r\n    let _borderColor = \"\";\r\n    for (var i = 0; i < 4; i++) {\r\n      _borderColor +=\r\n        this.props.borderColor.split(\",\")[0] +\r\n        \",\" +\r\n        this.props.borderColor.split(\",\")[1] +\r\n        \",\" +\r\n        (i + 1) * 25 +\r\n        \"%) \";\r\n    }\r\n    console.log(_borderColor);\r\n    return (\r\n      <div\r\n        style={{\r\n          //   border: \"2px \" + this.props.borderColor + \" solid\",\r\n          borderColor: _borderColor,\r\n          borderWidth: \"15px\",\r\n          borderStyle: \"solid\",\r\n          color: this.props.textColor,\r\n          margin: \"1vh 2.5vw\"\r\n        }}\r\n      >\r\n        <h4>{this.props.text}</h4>\r\n        <h4>{this.props.count}</h4>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TextBorder;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Link,\r\n  useHistory\r\n} from \"react-router-dom\";\r\nimport ReactMapboxGl, { Layer, Feature, Popup, Marker } from \"react-mapbox-gl\";\r\nimport TextBorder from \"./TextBorder\";\r\n\r\n// ES5\r\n// var ReactMapboxGl = require('react-mapbox-gl');\r\n// var Layer = ReactMapboxGl.Layer;\r\n// var Feature = ReactMapboxGl.Feature;\r\n\r\nconst Map = ReactMapboxGl({\r\n  accessToken:\r\n    \"pk.eyJ1IjoibG9vaWtpYW5zZW5nIiwiYSI6ImNqdWF3MzFrMzA2bmYzeXBkMGdkMTdsM2sifQ.SMkjjzrxv1Gwmf127YmGpA\"\r\n});\r\n\r\nconst center = [103.6715, 1.5177];\r\nconst zoom = [7];\r\n\r\nexport const HomeComp = () => {\r\n  let routeHistory = useHistory();\r\n\r\n  const [location, setLocation] = useState({\r\n    location: [\r\n      {\r\n        lat: 1.5177,\r\n        lon: 103.6715,\r\n        name: \"JB Sutera Mall\",\r\n        type: \"scattermapbox\",\r\n        mode: \"markers\",\r\n        state: \"Safe\",\r\n        response: []\r\n        // marker: indicate(float(xp.get_xpand(\"wqi\", \"data\")), \"color\")\"marker\",\r\n        // text: indicate(float(xp.get_xpand(\"wqi\", \"data\")), \"text\")\"text\"\r\n      },\r\n      {\r\n        lat: 3.172788,\r\n        lon: 101.719556,\r\n        name: \"5G Ericsson KL\",\r\n        type: \"scattermapbox\",\r\n        mode: \"markers\",\r\n        state: \"\",\r\n        response: []\r\n        // marker: indicate(float(xp.get_xpand(\"wqi\", \"data\")), \"color\")\"marker\",\r\n        // text: indicate(float(xp.get_xpand(\"wqi\", \"data\")), \"text\")\"text\"\r\n      },\r\n      {\r\n        lat: 1.555145,\r\n        lon: 103.63764,\r\n        name: \"UTM JB Lake\",\r\n        type: \"scattermapbox\",\r\n        mode: \"markers\",\r\n        state: \"Safe\"\r\n        // marker: indicate(40, \"color\")\"marker\",\r\n        // text: indicate(40, \"text\")\"text\"\r\n      },\r\n      {\r\n        lat: 1.460468,\r\n        lon: 103.940487,\r\n        name: \"Sungai Kim Kim\",\r\n        type: \"scattermapbox\",\r\n        mode: \"markers\",\r\n        state: \"Safe\"\r\n        // marker: indicate(0, \"color\")\"marker\",\r\n        // text: indicate(0, \"text\")\"text\"\r\n      },\r\n      {\r\n        lat: 3.828111,\r\n        lon: 103.265507,\r\n        name: \"Sungai Tiram\",\r\n        type: \"scattermapbox\",\r\n        mode: \"markers\",\r\n        state: \"Safe\"\r\n        // marker: indicate(30, \"color\")\"marker\",\r\n        // text: indicate(30, \"text\")\"text\"\r\n      },\r\n      {\r\n        lat: 2.892086,\r\n        lon: 101.68903,\r\n        name: \"Sungai Langat\",\r\n        type: \"scattermapbox\",\r\n        mode: \"markers\",\r\n        state: \"Safe\"\r\n        // marker: indicate(30, \"color\")\"marker\",\r\n        // text: indicate(30, \"text\")\"text\"\r\n      },\r\n      {\r\n        lat: 3.496129,\r\n        lon: 102.912493,\r\n        name: \"Sungai Pahang\",\r\n        type: \"scattermapbox\",\r\n        mode: \"markers\",\r\n        state: \"Extremely Polluted\"\r\n        // marker: indicate(40, \"color\")\"marker\",\r\n        // text: indicate(40, \"text\")\"text\"\r\n      },\r\n      {\r\n        lat: 2.235268,\r\n        lon: 102.256568,\r\n        name: \"Sungai Malacca\",\r\n        type: \"scattermapbox\",\r\n        mode: \"markers\",\r\n        state: \"Polluted\"\r\n        // marker: indicate(0, \"color\")\"marker\",\r\n        // text: indicate(0, \"text\")\"text\"\r\n      },\r\n      {\r\n        lat: 4.370342,\r\n        lon: 101.072384,\r\n        name: \"Sungai Kinta\",\r\n        type: \"scattermapbox\",\r\n        mode: \"markers\",\r\n        state: \"Polluted\"\r\n        // marker: indicate(40, \"color\")\"marker\",\r\n        // text: indicate(40, \"text\")\"text\"\r\n      }\r\n    ]\r\n  });\r\n  const [popup, setPopup] = useState(false);\r\n  const [popupText, setPopupText] = useState(\"\");\r\n  const [response, setResponse] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [safeCount, setSafeCount] = useState(0);\r\n  const [pollutedCount, setPollutedCount] = useState(0);\r\n  const [extremelyPollutedCount, setExtremelyPollutedCount] = useState(0);\r\n  function get_xpand(parameter, mode) {\r\n    fetch(\r\n      \"https://cors-anywhere.herokuapp.com/https://iot.xpand.asia/developer/api/applicationmgt/authenticate\",\r\n      {\r\n        headers: {\r\n          \"X-Secret\":\r\n            \"UmNvalVjX09Td2JtY0NHTE9ST3AyNFdpbUdrYTpyTXRQaVNOVzNsTEhHaEREWDZSbFRmYjM0bVVh\",\r\n          \"Content-Type\": \"application/json\"\r\n        }\r\n      }\r\n    )\r\n      .then(response => response.json())\r\n      .then(result => {\r\n        xpandGetJWT(result.access_token, parameter, mode);\r\n      });\r\n  }\r\n\r\n  function xpandGetJWT(accessToken, parameter, mode, data) {\r\n    fetch(\r\n      \"https://cors-anywhere.herokuapp.com/https://iot.xpand.asia/developer/api/usermgt/v1/authenticate\",\r\n      {\r\n        method: \"POST\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer\" + \" \" + accessToken\r\n        },\r\n        body: JSON.stringify({\r\n          username: \"utmgroup02@noreply.com\",\r\n          password: \"teamh2o\"\r\n        })\r\n      }\r\n    )\r\n      .then(response => response.json())\r\n      .then(result => {\r\n        xpandGetData(result[\"X-IoT-JWT\"], accessToken, parameter, data);\r\n      });\r\n  }\r\n\r\n  function xpandGetData(jwt, accessToken, parameter, data) {\r\n    var baseURL =\r\n      \"https://cors-anywhere.herokuapp.com/https://iot.xpand.asia/developer/api/datamgt/v1/user/devicehistory?\";\r\n    var eventName = \"Try\";\r\n    var deviceIds = \"16492\";\r\n    var noOfEvents = \"7\";\r\n    var zoneId = \"Asia%2FKuala_Lumpur\";\r\n    // var startDate = '2018-08-09%2012%3A00%3A00'\r\n    fetch(\r\n      baseURL +\r\n        \"eventName=\" +\r\n        eventName +\r\n        \"&deviceIds=\" +\r\n        deviceIds +\r\n        \"&noOfEvents=\" +\r\n        noOfEvents +\r\n        \"&zoneId=\" +\r\n        zoneId,\r\n      {\r\n        headers: {\r\n          Authorization: \"Bearer\" + \" \" + accessToken,\r\n          \"X-IoT-JWT\": jwt\r\n        }\r\n      }\r\n    )\r\n      .then(response => {\r\n        console.log(response);\r\n        return response.json();\r\n      })\r\n      .then(result => {\r\n        console.log(\"result: \", result[deviceIds][0]);\r\n        setResponse(result[deviceIds]);\r\n        setIsLoading(false);\r\n        let temp = location;\r\n        temp.location.forEach(element => {\r\n          if (element.name === \"5G Ericsson KL\") {\r\n            element.state =\r\n              result[deviceIds][0][\"wqi\"] >= 40\r\n                ? \"Safe\"\r\n                : result[deviceIds][0][\"wqi\"] >= 30\r\n                ? \"Polluted\"\r\n                : \"Extremely Polluted\";\r\n          }\r\n        });\r\n        setLocation(temp);\r\n        let safeCountTemp = 0,\r\n          pollutedCountTemp = 0,\r\n          extremelyPollutedCountTemp = 0;\r\n\r\n        location.location.forEach(element => {\r\n          console.log(element.name, element.state);\r\n          element.state === \"Safe\"\r\n            ? safeCountTemp++\r\n            : element.state === \"Polluted\"\r\n            ? pollutedCountTemp++\r\n            : extremelyPollutedCountTemp++;\r\n        });\r\n        setSafeCount(safeCountTemp);\r\n        setPollutedCount(pollutedCountTemp);\r\n        setExtremelyPollutedCount(extremelyPollutedCountTemp);\r\n      });\r\n  }\r\n\r\n  function createLayer() {\r\n    let layer = [];\r\n    let color = \"\";\r\n    location.location.forEach(element => {\r\n      console.log(element.state);\r\n\r\n      if (element.state === \"Safe\") {\r\n        color = \"green\";\r\n      } else if (element.state === \"Polluted\") {\r\n        color = \"yellow\";\r\n      } else {\r\n        color = \"red\";\r\n      }\r\n\r\n      console.log(color);\r\n      layer.push(\r\n        <Marker\r\n          properties={{\r\n            description: \"<strong>\" + element.name + \"</strong>\"\r\n          }}\r\n          coordinates={[element.lon, element.lat]}\r\n          anchor=\"bottom\"\r\n          onClick={mapWithEvt => {\r\n            console.log(\"mouse click\", mapWithEvt);\r\n            routeHistory.push(\"/monitor\");\r\n          }}\r\n          onMouseEnter={mapWithEvt => {\r\n            console.log(\"mouse enter\", mapWithEvt);\r\n\r\n            setPopup({\r\n              lat: element.lat,\r\n              lon: element.lon,\r\n              description: \"<strong>\" + element.name + \"</strong>\"\r\n            });\r\n          }}\r\n          onMouseLeave={mapWithEvt => {\r\n            console.log(\"mouse leave\", mapWithEvt);\r\n            setPopup(false);\r\n          }}\r\n        >\r\n          {/* <img src={markerUrl} /> */}\r\n          {/* condition = {element.state === \"Safe\"}; */}\r\n\r\n          <div\r\n            style={{\r\n              zIndex: 1000,\r\n              width: 1 + \"em\",\r\n              height: 1 + \"em\",\r\n              backgroundColor: color,\r\n              borderRadius: 50 + \"%\"\r\n            }}\r\n          ></div>\r\n        </Marker>\r\n        // )}\r\n        // />\r\n      );\r\n    });\r\n    console.log(layer);\r\n    return layer;\r\n  }\r\n\r\n  useEffect(() => {\r\n    console.log(typeof location);\r\n    get_xpand();\r\n  }, []);\r\n\r\n  const row = {\r\n    display: \"flex\"\r\n  };\r\n\r\n  const column = {\r\n    width: \"33.33%\"\r\n  };\r\n\r\n  const borderDiv = {\r\n    border: \"2px black solid\",\r\n    margin: \"1vh 2.5vw\"\r\n  };\r\n\r\n  const mapContainer = {\r\n    border: \"5px orange solid\",\r\n    display: \"-webkit-inline-box\"\r\n  };\r\n\r\n  const title = {\r\n    fontFamily: \"Comic Sans MS\",\r\n    fontSize: \"1em\",\r\n    textAlign: \"left\",\r\n    paddingLeft: \"1.5em\"\r\n  };\r\n\r\n  return isLoading ? (\r\n    <div>Loading Data...</div>\r\n  ) : (\r\n    <div>\r\n      <h3 style={title}>\r\n        Number of river spot according to the pollution level\r\n      </h3>\r\n      <div style={row}>\r\n        <div style={column}>\r\n          <TextBorder\r\n            textColor=\"green\"\r\n            borderColor=\"hsl(120,100%,50%)\"\r\n            text=\"SAFE\"\r\n            count={safeCount}\r\n          />\r\n        </div>\r\n        <div style={column}>\r\n          <TextBorder\r\n            textColor=\"yellow\"\r\n            borderColor=\"hsl(60,100%,50%)\"\r\n            text=\"POLLUTED\"\r\n            count={pollutedCount}\r\n          />\r\n        </div>\r\n        <div style={column}>\r\n          <TextBorder\r\n            textColor=\"red\"\r\n            borderColor=\"hsl(0,100%,50%)\"\r\n            text=\"EXTREMELY POLLUTED\"\r\n            count={extremelyPollutedCount}\r\n          />\r\n        </div>\r\n      </div>\r\n      <h3 style={title}>Location of devices in Malaysia</h3>\r\n\r\n      <div style={mapContainer}>\r\n        <Map\r\n          zoom={zoom}\r\n          style=\"mapbox://styles/mapbox/streets-v9\"\r\n          containerStyle={{\r\n            height: \"65vh\",\r\n            width: \"95vw\",\r\n            display: \"table-cell\"\r\n          }}\r\n          center={center}\r\n          onClick={(map, e) => console.log(\"onClickMap!\", e.lngLat)}\r\n        >\r\n          {popup ? (\r\n            <Popup\r\n              coordinates={[popup.lon, popup.lat]}\r\n              offset={{\r\n                \"bottom-left\": [12, 0],\r\n                bottom: [0, -10],\r\n                \"bottom-right\": [-12, -38]\r\n              }}\r\n            >\r\n              <div\r\n                dangerouslySetInnerHTML={{\r\n                  __html: popup.description\r\n                }}\r\n              />\r\n            </Popup>\r\n          ) : (\r\n            <div></div>\r\n          )}\r\n          {createLayer()}\r\n        </Map>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HomeComp;\r\n","import React from \"react\";\nimport \"./App.css\";\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport Home from \"./Home\";\nimport Monitor from \"./Monitor\";\nimport HomeComp from \"./HomeComp\";\nimport logo from \"./images/favicon.png\";\n\nfunction App() {\n  const navbar_style = {\n    backgroundColor: \"blue\",\n    justifyContent: \"flexStart !important\",\n    position: \"relative\",\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    alignItems: \"center\",\n    // justify-content: \"space-between\",\n    padding: \".5rem 1rem\"\n  };\n\n  const logoDiv = {\n    width: \"60%\",\n    color: \"white\",\n    textAlign: \"left\",\n    paddingLeft: \"5em\"\n  };\n\n  const buttonDiv = {\n    width: \"40%\"\n  };\n\n  return (\n    <div className=\"App\">\n      <Router>\n        <div className=\"\" style={navbar_style}>\n          <div style={logoDiv}>\n            <img src={logo} style={{ width: 2 + \"em\" }} alt=\"Water logo\" />\n            <span>Hydro Health On-demand</span>\n          </div>\n          <div style={buttonDiv}>\n            <Link className=\"btn btn-success mx-2\" to=\"/\">\n              Home\n            </Link>\n            <Link className=\"btn btn-success mx-2\" to=\"monitor\">\n              Monitor\n            </Link>\n          </div>\n        </div>\n        <Route exact path=\"/\" component={HomeComp} />\n\n        <Route path=\"/monitor\" component={Monitor} />\n      </Router>\n      {/*  <header className=\"App-header\">\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n        <p>\n          Edit <code>src/App.js</code> and save to reload.\n        </p>\n        <a\n          className=\"App-link\"\n          href=\"https://reactjs.org\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          Learn React\n        </a>\n      </header>\n      <div className=\"\">\n      <input className=\"btn\" type=\"button\"/>\n      </div>*/}\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./css/style.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}